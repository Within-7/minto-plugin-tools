# 库存管理表格模板

**表格名称**: 库存管理系统
**创建时间**: [YYYY-MM-DD]
**仓库管理员**: [Name]

---

## 表格结构

### 主表：库存列表

| 字段名称 | 字段类型 | 必填 | 说明 |
|---------|---------|------|------|
| 商品名称 | 文本 | ✅ | 商品标题 |
| SKU 编号 | 文本 | ✅ | 唯一标识 |
| 商品类别 | 单选 | - | 电子/服装/食品/办公/其他 |
| 库存数量 | 数字 | ✅ | 当前库存量 |
| 单位 | 文本 | - | 个/箱/套/件等 |
| 单价 | 数字 | - | 单位成本 |
| 库存金额 | 数字 | - | 自动计算：数量×单价 |
| 仓库位置 | 文本 | - | 存放位置（如 A区-01-01） |
| 安全库存 | 数字 | - | 最低库存警戒线 |
| 最大库存 | 数字 | - | 最大库存限制 |
| 库存状态 | 单选 | - | 正常/低库存/缺货/积压 |
| 供应商 | 文本 | - | 主要供应商 |
| 最后更新时间 | 日期 | - | 更新日期 |
| 备注 | 文本 | - | 其他信息 |

### 关联表：入库记录

| 字段名称 | 字段类型 | 必填 | 说明 |
|---------|---------|------|------|
| 入库单号 | 文本 | ✅ | 唯一标识 |
| 关联 SKU | 关联 | ✅ | 关联到库存列表 |
| 入库数量 | 数字 | ✅ | 入库数量 |
| 入库单价 | 数字 | - | 入库单价 |
| 入库金额 | 数字 | - | 自动计算：数量×单价 |
| 入库时间 | 日期 | ✅ | 入库日期 |
| 经手人 | 文本 | - | 操作人员 |
| 供应商 | 文本 | - | 供应商名称 |
| 备注 | 文本 | - | 其他信息 |

### 关联表：出库记录

| 字段名称 | 字段类型 | 必填 | 说明 |
|---------|---------|------|------|
| 出库单号 | 文本 | ✅ | 唯一标识 |
| 关联 SKU | 关联 | ✅ | 关联到库存列表 |
| 出库数量 | 数字 | ✅ | 出库数量 |
| 出库时间 | 日期 | ✅ | 出库日期 |
| 领用人 | 文本 | - | 领取人员 |
| 用途说明 | 文本 | - | 使用用途 |
| 备注 | 文本 | - | 其他信息 |

---

## MCP 工具调用示例

### 创建库存管理系统

```python
# 1. 创建多维表格
create_bitable(name="库存管理系统")

# 2. 获取 table_id
get_tables(app_token)

# 3. 添加库存列表字段
add_table_field(app_token, table_id, "商品名称", 1)       # 文本
add_table_field(app_token, table_id, "SKU 编号", 1)       # 文本
add_table_field(app_token, table_id, "商品类别", 3)       # 单选
add_table_field(app_token, table_id, "库存数量", 2)       # 数字
add_table_field(app_token, table_id, "单位", 1)           # 文本
add_table_field(app_token, table_id, "单价", 2)          # 数字
add_table_field(app_token, table_id, "库存金额", 2)       # 数字
add_table_field(app_token, table_id, "仓库位置", 1)       # 文本
add_table_field(app_token, table_id, "安全库存", 2)       # 数字
add_table_field(app_token, table_id, "最大库存", 2)       # 数字
add_table_field(app_token, table_id, "库存状态", 3)       # 单选
add_table_field(app_token, table_id, "供应商", 1)         # 文本
add_table_field(app_token, table_id, "最后更新时间", 5)   # 日期

# 4. 添加示例数据
add_record(app_token, table_id, {
    "商品名称": "无线鼠标",
    "SKU 编号": "SKU001",
    "商品类别": "电子",
    "库存数量": 150,
    "单位": "个",
    "单价": 50,
    "库存金额": 7500,
    "仓库位置": "A区-01-01",
    "安全库存": 20,
    "最大库存": 200,
    "库存状态": "正常",
    "供应商": "数码配件供应商",
    "最后更新时间": 1704067200000
})
```

---

## 示例数据

### 库存列表示例

| 商品名称 | SKU 编号 | 商品类别 | 库存数量 | 单位 | 单价 | 库存金额 | 仓库位置 | 安全库存 | 库存状态 |
|---------|---------|---------|---------|------|------|---------|---------|---------|---------|
| 无线鼠标 | SKU001 | 电子 | 150 | 个 | 50 | 7500 | A区-01-01 | 20 | 正常 |
| 笔记本电脑 | SKU002 | 电子 | 8 | 台 | 5000 | 40000 | A区-02-01 | 10 | 低库存 |
| 办公椅 | SKU003 | 办公 | 25 | 把 | 300 | 7500 | B区-01-01 | 15 | 正常 |
| A4打印纸 | SKU004 | 办公 | 0 | 包 | 25 | 0 | B区-02-01 | 50 | 缺货 |

### 入库记录示例

| 入库单号 | 关联 SKU | 入库数量 | 入库单价 | 入库金额 | 入库时间 | 经手人 | 供应商 |
|---------|---------|---------|---------|---------|---------|-------|--------|
| IN2024001 | SKU001 | 100 | 50 | 5000 | 2024-01-15 | 张三 | 数码配件供应商 |
| IN2024002 | SKU002 | 10 | 5000 | 50000 | 2024-01-18 | 李四 | 电脑设备供应商 |

### 出库记录示例

| 出库单号 | 关联 SKU | 出库数量 | 出库时间 | 领用人 | 用途说明 |
|---------|---------|---------|---------|-------|---------|
| OUT2024001 | SKU001 | 5 | 2024-01-20 | 王五 | 日常办公 |
| OUT2024002 | SKU003 | 2 | 2024-01-22 | 赵六 | 新员工配置 |

---

## 使用建议

1. **SKU 编号规则**
   - 建议格式：`SKU + 序号` 或 `类别缩写 + 序号`
   - 示例：SKU001, ELE002, OFF003

2. **库存状态判断**
   - **缺货**：库存数量 = 0
   - **低库存**：库存数量 < 安全库存
   - **积压**：库存数量 > 最大库存
   - **正常**：安全库存 ≤ 库存数量 ≤ 最大库存

3. **库存金额计算**
   - 库存金额 = 库存数量 × 单价
   - 建议在表格中设置自动计算公式

4. **定期盘点**
   - 每月进行一次库存盘点
   - 对比账面库存与实际库存
   - 记录盘盈盘亏情况

5. **协作权限**
   - 仓库管理员：full_access 权限
   - 采购人员：edit 权限（可入库）
   - 领用人员：view 权限（仅查看）

---

## 常见场景

### 场景 1: 新增商品

```
1. 调用 add_record() 添加新商品
2. 生成 SKU 编号
3. 设置初始库存为 0
4. 设置安全库存和最大库存
5. 保存后进行入库操作
```

### 场景 2: 商品入库

```
1. 创建入库记录
2. 关联到对应商品 SKU
3. 填写入库数量和单价
4. 自动计算入库金额
5. 更新库存数量：
   新库存数量 = 原库存数量 + 入库数量
6. 判断并更新库存状态
```

### 场景 3: 商品出库

```
1. 创建出库记录
2. 关联到对应商品 SKU
3. 填写出库数量
4. 检查库存是否充足：
   if 出库数量 > 当前库存:
       提示"库存不足"
5. 更新库存数量：
   新库存数量 = 原库存数量 - 出库数量
6. 判断并更新库存状态
```

### 场景 4: 库存预警

```
1. 每日检查库存状态
2. "缺货"商品：
   - 通知采购人员紧急补货
3. "低库存"商品：
   - 生成采购申请
4. "积压"商品：
   - 通知销售人员促销
```

---

## 字段配置说明

### 单选字段选项

**商品类别**：
- 电子
- 服装
- 食品
- 办公
- 其他

**库存状态**：
- 正常
- 低库存
- 缺货
- 积压

### 数字字段验证

**库存数量**：
- 最小值：0
- 最大值：无限制

**安全库存**：
- 最小值：0
- 建议：根据日常用量设置（如 7-14 天用量）

**最大库存**：
- 最小值：> 安全库存
- 建议：根据仓库容量和资金周转设置

---

## 库存管理最佳实践

### 1. ABC 分类管理

- **A类商品**（高价值）：占总库存 20%，占总金额 70%
  - 重点管理，每日盘点
- **B类商品**（中价值）：占总库存 30%，占总金额 20%
  - 正常管理，每周盘点
- **C类商品**（低价值）：占总库存 50%，占总金额 10%
  - 简化管理，每月盘点

### 2. 安全库存设置

```
安全库存 = 日均用量 × 供应周期 × 安全系数

示例：
- 日均用量：10 个
- 供应周期：7 天
- 安全系数：1.5
- 安全库存 = 10 × 7 × 1.5 = 105 个
```

### 3. 库存周转率

```
库存周转率 = 年销售成本 / 平均库存金额

建议：
- 快消品：≥ 8 次/年
- 一般商品：4-6 次/年
- 耐用品：2-4 次/年
```

### 4. 盘点流程

1. **日盘点**：高价值商品
2. **周盘点**：快速周转商品
3. **月盘点**：全部商品
4. **年盘点**：全面清查

---

## 扩展功能

### 关联表建议

1. **库存调拨表**
   - 调拨单号
   - 源仓库
   - 目标仓库
   - 调拨数量
   - 调拨时间
   - 经手人

2. **库存盘点表**
   - 盘点单号
   - 盘点时间
   - 账面数量
   - 实盘数量
   - 差异数量
   - 差异原因
   - 处理方式

3. **库存预警表**
   - 预警类型（缺货/低库存/积压）
   - 预警商品
   - 预警时间
   - 处理状态
   - 处理建议

4. **退货记录表**
   - 退货单号
   - 关联 SKU
   - 退货数量
   - 退货原因
   - 退货时间
   - 处理方式

---

## 数据统计建议

### 1. 库存分析

- 库存总金额
- 按类别统计库存
- 库存周转天数
- 库存积压情况

### 2. 入出库分析

- 月度入库金额
- 月度出库数量
- 入库来源分析
- 出库用途分析

### 3. 预警统计

- 缺货商品数量
- 低库存商品数量
- 积压商品数量
- 预警处理及时率
