---
name: beauty
description: 将文档、数据、结论等信息转化为通俗连贯、明确清晰的 HTML 格式幻灯片。使用 McKinsey 风格设计系统，通过丰富的图表形式可视化展示结论、概念和数据。不修改原文档内容，仅进行展示性美化输出。
---

# Beauty 命令

将多个文件转换为统一的 HTML 演示文稿，采用 McKinsey 风格设计、一致的格式化和专业的可视化。

## 使用方法

使用一个或多个文件路径运行此命令：
```
/beauty 文件路径1 文件路径2 ...
```

## 处理流程

1. **解析输入文件**以提取内容结构、数据点和结论
2. **应用统一设计系统**（McKinsey 风格）于所有文件
3. **生成 HTML 演示文稿**，具有一致的格式化和样式
4. **输出标准化幻灯片**，可直接用于演示

## 实现方式

当触发此命令时：

1. **验证输入文件**：
   - 检查所有文件路径是否存在且可读
   - 识别文件格式（Markdown、JSON、Text、HTML）
   - 验证文件内容有效

2. **处理每个文件**：
   - 使用 `scripts/parser.py` 解析文档结构
   - 提取标题、数据点、结论
   - 映射内容层次（H1 → H2 → H3）
   - 识别用于可视化的定量数据

3. **应用统一设计**：
   - 一致使用 McKinsey 风格调色板
   - 应用排版层次（标题、副标题、正文）
   - 为每种内容类型选择适当的布局
   - 使用 Chart.js 生成交互式图表

4. **生成 HTML 演示文稿**：
   - 使用 `scripts/generator_optimized.py` 生成单文件输出
   - 创建带有内联 CSS/JS 的自包含 HTML
   - 实现导航和交互功能
   - 确保所有屏幕尺寸的响应式设计

5. **输出结果**：
   - 为每个输入文件生成 HTML 文件
   - 提供转换摘要
   - 列出输出文件位置

## 示例

- `/beauty report.md analysis.md` → 将两个 Markdown 文件转换为演示文稿
- `/beauty data.json` → 将 JSON 数据转换为可视化丰富的演示文稿
- `/beauty document1.txt document2.txt document3.md` → 使用统一样式处理三个文件
- `/beauty presentation.html` → 使用 McKinsey 风格设计美化现有 HTML 演示文稿

## 支持的文件格式

- **Markdown**（.md）- 带有标题、列表、数据的结构化文档
- **JSON**（.json）- 带有字段和值的结构化数据
- **Text**（.txt）- 纯文本文档
- **HTML**（.html）- 需要重新设置样式的现有演示文稿

## 设计系统（McKinsey/BCG 风格）

### 色彩方案

| 颜色类型 | 色值 | 用途 |
|------------|----------|-------|
| 主背景色 | `#FFFFFF` | 幻灯片背景 |
| 标题栏背景 | `#000000` | 标题栏 |
| 主强调色 | `#F85d42` | 关键高亮、行动号召 |
| 次强调色 | `#74788d` | 辅助文本 |
| 深蓝色 | `#556EE6` | 图表、数据点 |
| 绿色 | `#34c38f` | 成功指标 |
| 蓝色 | `#50a5f1` | 中性强调 |
| 黄色 | `#f1b44c` | 警告、注意事项 |

### 排版规范

- **标题**：大号（48-64px），粗体，黑色（`#000000`）
- **副标题**：中号（28-36px），粗体，强调色
- **正文**：常规（16-20px），常规字重，深灰色（`#333333`）
- **图表标签**：小号（12-14px），清晰易读

## 输出格式

每个输入文件生成一个单一、自包含的 HTML 演示文稿：

```html
<!DOCTYPE html>
<html>
<head>
    <style>
        /* 所有 CSS 内联（McKinsey 风格） */
    </style>
</head>
<body>
    <!-- 导航控件 -->
    <nav class="navbar">...</nav>

    <!-- 幻灯片内容 -->
    <div class="presentation-container">
        <div class="slide active">...</div>
        <!-- 更多幻灯片 -->
    </div>

    <!-- 交互功能 -->
    <script>
        /* 用于导航和图表的 JavaScript */
    </script>
</body>
</html>
```

## 交互功能

### 导航
- **按钮**：导航栏中的上一个/下一个按钮
- **键盘**：箭头键（←/→）、空格（下一个）、Escape（退出全屏）
- **幻灯片计数器**：显示当前位置

### 全屏模式
- 右下角的切换按钮（⛶）
- 按 Escape 键退出

### 图表可视化
- **Chart.js** 库（从 CDN 加载）
- 智能图表类型选择（柱状图、饼图、折线图）
- 悬停时的交互式工具提示
- 响应式大小调整

## 输出命名约定

输入文件转换为带有 `_beautified.html` 后缀的输出文件：

- `report.md` → `report_beautified.html`
- `analysis.json` → `analysis_beautified.html`
- `document.txt` → `document_beautified.html`

## 注意事项

- **内容保留**：所有原始内容、数据和结论完全保留
- **无数据虚构**：仅使用源文档中的数据
- **统一样式**：所有文件采用一致的 McKinsey 风格设计
- **单文件输出**：每个演示文稿都是自包含的，带有内联 CSS/JS
- **交互式图表**：数据可视化从定量数据自动生成
- **响应式设计**：演示文稿适用于所有屏幕尺寸

## 工作流程

1. 用户提供文件路径给 `/beauty` 命令
2. 命令验证所有输入文件
3. 每个文件被解析并结构化为幻灯片
4. 一致应用 McKinsey 风格设计
5. 生成带有交互功能的 HTML 演示文稿
6. 用户收到包含输出文件位置的摘要